{% extends "layout.html" %}
{% block content %}
<h2 class="text-2xl font-semibold mb-4">Welcome, {{ current_user.email }}</h2>

<form method="POST" enctype="multipart/form-data" class="mb-6">
  <input type="file" name="file" required
         class="border p-2 rounded mb-2">
  <button type="submit"
          class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">
    Upload
  </button>
</form>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
  {% for file in files %}
  <div class="bg-white p-4 rounded shadow">
    <p class="font-medium">{{ file.filename }}</p>
    <a href="{{ url_for('main.download', file_id=file.id) }}"
       class="text-blue-500 hover:underline">Download</a>
  </div>
  {% endfor %}
</div>

<a href="{{ url_for('auth.logout') }}" class="text-red-500 mt-6 inline-block hover:underline">
  Logout
</a>
{% endblock %}
